"use strict";function hamburgerMenu(){var e=document.querySelector(".header__hambmenu-btn"),t=document.querySelector(".hambmenu__close-btn"),n=document.querySelector(".hambmenu"),o=document.querySelectorAll(".hambmenu__link");function a(){n.style.display="none"}e.addEventListener("click",function(){n.style.display="block",n.style.opacity=getComputedStyle(n).opacity+1,document.body.style.overflow="hidden"}),t.addEventListener("click",function(){n.style.opacity=getComputedStyle(n).opacity-1,document.body.style.overflow="visible",setTimeout(a,600)});for(var r=0;r<o.length;++r)o[r].addEventListener("click",function(){n.style.opacity=getComputedStyle(n).opacity-1,document.body.style.overflow="visible",setTimeout(a,600)})}function accordeonTeam(){var o=document.querySelectorAll(".team__name");document.querySelector(".team__list").addEventListener("click",function(e){var t=e.target;if(t.classList.contains("team__name")){for(var n=0;n<o.length;n++)o[n]!=t&&o[n].classList.remove("team__name--active");t.classList.contains("team__name--active")?t.classList.remove("team__name--active"):t.classList.add("team__name--active")}})}function accordeonMenu(){var a=document.querySelectorAll(".menu__cover"),e=document.querySelector(".menu__list");document.querySelectorAll(".menu__type-title");e.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("menu__cover")){for(var n=0;n<a.length;n++)a[n]!=t&&a[n].classList.remove("menu__cover--active");t.classList.contains("menu__cover--active")?t.classList.remove("menu__cover--active"):t.classList.add("menu__cover--active")}if(t.classList.contains("menu__type-title")){for(var o=0;o<a.length;o++)a[o]!=t.parentElement&&a[o].classList.remove("menu__cover--active");t.parentElement.classList.contains("menu__cover--active")?t.parentElement.classList.remove("menu__cover--active"):t.parentElement.classList.add("menu__cover--active")}})}function popup(){for(var r=document.querySelectorAll(".buy-button--more"),e=function(a){r[a].addEventListener("click",function(e){var t=r[a].previousElementSibling.textContent,n=r[a].parentElement.children[0].textContent;document.body.appendChild(function(e,t){var n=document.createElement("div");n.classList.add("review-popup");var o=document.createElement("div");o.classList.add("review-popup__container");var a=document.createElement("h3");a.classList.add("review-popup__name"),a.textContent=t;var r=document.createElement("p");r.classList.add("review-popup__text"),r.textContent=e;var c=document.createElement("button");return c.classList.add("review-popup__close-btn"),c.addEventListener("click",function(){var e=document.querySelector(".review-popup");e&&(e.style.opacity=getComputedStyle(e).opacity-1),setTimeout(function(){document.body.removeChild(n)},600),document.body.style.overflow="visible"}),n.appendChild(o),o.appendChild(a),o.appendChild(r),o.appendChild(c),n}(t,n)),document.body.style.overflow="hidden";var o=document.querySelector(".review-popup");o&&(o.style.opacity=getComputedStyle(o).opacity+1)})},t=0;t<r.length;t++)e(t)}function yaMap(){ymaps.ready(function(){var n=new ymaps.Map(e,{center:[59.943,30.322],zoom:11,controls:["zoomControl"],behaviors:["drag"]});t.forEach(function(e){var t=new ymaps.Placemark([e.latitude,e.longitude],{hintContent:e.hintContent,balloonContent:e.balloonContent},{iconLayout:"default#image",iconImageHref:"/images/icons/map-marker.svg",iconImageSize:[46,57],iconImageOffset:[-23,-57]});n.geoObjects.add(t)})});var e=document.querySelector("#map"),t=[{latitude:59.89,longitude:30.313,hintContent:'<address class="footer__map-desc">Ресторан MrBurger: Санкт-Петербург, ул. Бабушкина, д.63, 2</address>',balloonContent:'<address class="footer__map-desc">Ресторан MrBurger: Санкт-Петербург, ул. Бабушкина, д.63, 2</address>'},{latitude:59.92173693,longitude:30.35010566,hintContent:'<address class="footer__map-desc">Ресторан MrBurger: Санкт-Петербург, ул. Юрия Гагарина, д.51, 24</address>',balloonContent:'<address class="footer__map-desc">Ресторан MrBurger: Санкт-Петербург, ул. Юрия Гагарина, д.51, 24</address>'},{latitude:59.96345679,longitude:30.34955608,hintContent:'<address class="footer__map-desc">Ресторан MrBurger: Санкт-Петербург, ул. Худайбердина, д.4, 14</address>',balloonContent:'<address class="footer__map-desc">Ресторан MrBurger: Санкт-Петербург, ул. Худайбердина, д.4, 14</address>'},{latitude:59.99219185,longitude:30.26441204,hintContent:'<address class="footer__map-desc">Ресторан MrBurger: Санкт-Петербург, ул. Комсомольская, д.22/2, 24</address>',balloonContent:'<address class="footer__map-desc">Ресторан MrBurger: Санкт-Петербург, ул. Комсомольская, д.22/2, 24</address>'}]}function ajaxForm(){var o=document.querySelector(".buy__forms");document.querySelector("#submitbutton");function a(e){return!!e.checkValidity()||(e.nextElementSibling.textContent=e.validationMessage,!1)}function r(e){var t=document.createElement("div");t.classList.add("buy-modal");var n=document.createElement("div");n.classList.add("buy-modal__container");var o=document.createElement("span");o.classList.add("buy-modal__text"),o.textContent=e;var a=document.createElement("button");return a.classList.add("buy-button"),a.textContent="Закрыть",a.addEventListener("click",function(){var e=document.querySelector(".buy-modal");e.style.opacity=getComputedStyle(e).opacity-1,setTimeout(function(){document.body.removeChild(t)},600),document.body.style.overflow="visible"}),t.appendChild(n),n.appendChild(o),n.appendChild(a),t}o.addEventListener("submit",function(e){if(e.preventDefault(),function(e){var t=!0;a(e.elements.name)||(t=!1);a(e.elements.telephone)||(t=!1);a(e.elements.comment)||(t=!1);return t}(o)){var t={name:o.elements.name.value,phone:o.elements.telephone.value,comment:o.elements.comment.value,email:"example@mail.com"},n=new XMLHttpRequest;n.responseType="json",n.open("POST","https://webdev-api.loftschool.com/sendmail",!0),n.send(JSON.stringify(t)),n.addEventListener("load",function(e){var t;n.status<400?(document.body.appendChild(r("Сообщение отправлено")),document.body.style.overflow="hidden",(t=document.querySelector(".buy-modal"))&&(t.style.opacity=getComputedStyle(t).opacity+1)):(document.body.appendChild(r("Сообщение не отправлено")),document.body.style.overflow="hidden",(t=document.querySelector(".buy-modal"))&&(t.style.opacity=getComputedStyle(t).opacity+1))})}})}function menuSlider(){var e=document.querySelector(".products__control--left"),t=document.querySelector(".products__control--right"),n=document.querySelector(".products__slider");t.addEventListener("click",function(){300!=parseInt(getComputedStyle(n).right)&&(n.style.right=parseInt(getComputedStyle(n).right)+100+"%")}),e.addEventListener("click",function(){0!=parseInt(getComputedStyle(n).right)&&(n.style.right=parseInt(getComputedStyle(n).right)-100+"%")})}hamburgerMenu(),accordeonTeam(),accordeonMenu(),popup(),yaMap(),ajaxForm(),menuSlider();